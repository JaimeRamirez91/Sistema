<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <f:view contentType="text/html">
        <h:head>

        </h:head>

        <h:body>
            <h:form>
                <h:panelGrid columns="2" cellpadding="5">
                    <h:outputLabel value="Nombre producto:" />
                    <p:inputText  value="#{DetalleProductoBeen.producto.proNombre}"/>
                    <h:outputLabel value="precio:"/>
                    <p:inputNumber  value="#{DetalleProductoBeen.producto.proPrecio}"/>
                    
                   
                    <h:outputLabel for="listaCategoria" value="Categoria:" />
                    <p:selectOneMenu id="listaCategoria" filter="true" filterMatchMode="startsWith"> 
                            <f:selectItem itemLabel="--Seleccione--" itemValue="" />
                            <f:selectItems value="#{DetalleProductoBeen.listaCategoria}" var="categoria" 
                                           itemLabel="#{categoria.categoria}" itemValue="#{categoria.idCategoria}" />
                    </p:selectOneMenu>
                   
                    <h:outputLabel for="listaProveedor" value="Proveedor:" />
                    <p:selectOneMenu id="listaProveedor" filter="true" filterMatchMode="startsWith">
                            <f:selectItem itemLabel="--Seleccione--" itemValue="" />
                            <f:selectItems value="#{DetalleProductoBeen.listaProveedor}" var="Proveedor" 
                                           itemLabel="#{Proveedor.proNombre}" itemValue="#{Proveedor.idproveedor}" />
                    </p:selectOneMenu>
                    <p:commandLink value="Submit"  />
                </h:panelGrid>
            
                <p:panelGrid id="Grid" columns="2">   
                    <p:commandButton value="gregar" actionListener="#{DetalleProductoBeen.nuevodetalle()}" update=":frmMostrarProductos:tablaProductos" />
                </p:panelGrid>
             
            </h:form>
            
            
            
            <h:form id="frmMostrarProductos">
                <p:dataTable id="tablaProductos" paginator="true" paginatorPosition="top"
                             var="ct" value="#{DetalleProductoBeen.listadelatte}" rows="10">
                    <p:column headerText="NÂ°">
                        <h:outputText value="#{ct.idDetalle}"/>
                    </p:column>
                    <p:column headerText="Producto">
                        <h:outputText value="#{ct.producto.proNombre}"/>
                    </p:column>
                    <p:column headerText="Proveedor">
                        <h:outputText value="#{ct.proveedor.proNombre}"/>
                    </p:column>


                </p:dataTable>
            </h:form>
            <br/>
        </h:body>

    </f:view>
</html>



